from os import system,getenv,rename
from mediafire_dl import download

class DownloadAndUnrar(mediafire_dl):
    def __init__(self,url) -> str:
        self.url = url
        download(self.url,"file.rar",quiet=False)
        if self.unrar() :
            self.new_name()
    def unrar():
        system("mkdir DOWNLOADS")
        system("unrar x file.rar DOWNLOADS/dir -ppackanime.com && export DOWNLOADED=YES")
        
        if getenv("DOWNLOADED"):
            system("rm -rf file.rar")
            return True
        else:
            return False
    def new_name(self):
        for x,y,files in walk("./DOWNLOADS/Dir"):
            for file in files:
                newname = file.replace("Packanime.com","BiratBit1.com")
                rename(file,newname)
DownloadAndUnrar(input("URL [MEDIA-FIRE]:  "))
